/*! jQuery.viewportWatcher (https://github.com/Takazudo/jQuery.viewportWatcher)
 * lastupdate: 2013-09-11
 * version: 0.2.0
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};!function(a){var c,d,e,f;return c=a(window),f=window.viewportSize,d=window.EveEve,e={},e.viewport={},e.viewport.width=function(){return f.getWidth()},e.viewport.height=function(){return f.getHeight()},e.limit=function(a,b,c){var d;return d=null,function(){var e,f,g;return f=this,e=arguments,g=function(){return d=null,a.apply(f,e)},c&&clearTimeout(d),c||!d?d=setTimeout(g,b):void 0}},e.throttle=function(a,b){return e.limit(a,b,!1)},e.debounce=function(a,b){return e.limit(a,b,!0)},e.WinWatcher=function(a){function d(){var a=this;c.bind(e,function(){return a.trigger("resize")})}var e;return b(d,a),e="resize orientationchange",d}(d),e.winWatcher=new e.WinWatcher,e.Observation=function(){function a(a,b){this.criteria=a,this.handlers=b,this._handlerFired=!1,this.active=!1}return a.prototype.handleNotification=function(a){return this._shouldIHandle(a)&&!this._handlerFired?(this.handlers.match(),this.active=!0,this._handlerFired=!0,!0):!1},a.prototype.resetFiredFlag=function(){return this._handlerFired=!1},a.prototype._shouldIHandle=function(a){return this.criteria(a.width)},a}(),e.Watcher=function(c){function d(a){this._observations=[],a(this),this.options||this.option(),this.options.notify_on_init===!0&&this.invokeNotification(),this._eventify()}return b(d,c),d.defaults={notify_on_init:!0,throttle_millisec:200},d.prototype.option=function(b){return null==b&&(b={}),this.options=a.extend({},e.Watcher.defaults,b)},d.prototype.when=function(a,b){var c;return c=new e.Observation(a,b),this._observations.push(c),this},d.prototype.notify=function(a){var b,c,d,e,f,g,h,i;for(b=null,h=this._observations,d=0,f=h.length;f>d&&(c=h[d],c.handleNotification(a)&&(b=c),null===b);d++);if(null!==b){for(i=this._observations,e=0,g=i.length;g>e;e++)c=i[e],c!==b&&c.resetFiredFlag();return this.trigger("observationswitch",a)}},d.prototype.destroy=function(){return e.winWatcher.off("resize",this._resizeHandler),this._observations.length=0,this.off()},d.prototype.invokeNotification=function(){return this.notify({width:e.viewport.width()})},d.prototype._eventify=function(){var a=this;return this._resizeHandler=e.throttle(function(){return a.invokeNotification(),a.trigger("resize")},this.options.throttle_millisec),e.winWatcher.on("resize",this._resizeHandler)},d}(d),a.ViewportWatcherNs=e,a.ViewportWatcher=e.Watcher}(jQuery)}).call(this);